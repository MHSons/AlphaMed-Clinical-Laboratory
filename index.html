<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Prime Medical Lab — Home</title>
  <meta name="description" content="Professional ISO-ready medical lab web interface (local-storage demo)" />
  <link rel="icon" href="logo.png" />
  <!-- Link to your stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Top header -->
  <header class="topbar">
    <div class="container">
      <div class="brand">
        <img src="logo.png" alt="Lab Logo" class="logo" />
        <h1>Prime Medical Lab</h1>
      </div>

      <nav class="main-nav">
        <a href="index.html">Home</a>
        <a href="register_patient.html">Register Patient</a>
        <a href="reception.html">Reception</a>
        <a href="technician_dashboard.html">Technician</a>
        <a href="view_reports.html">Reports</a>
        <a href="export.html">Export</a>
        <a href="login.html" class="btn-login">Login</a>
      </nav>
    </div>
  </header>

  <!-- Hero / Intro -->
  <main class="container main-content">
    <section class="hero">
      <h2>Reliable, ISO-style workflow — Demo with Local Storage</h2>
      <p>
        This demo implements a full lab workflow stored locally (for GitHub Pages demo).
        Replace local-storage parts with your server-side APIs for production.
      </p>
      <div class="hero-actions">
        <a href="register_patient.html" class="btn">Register Patient</a>
        <a href="reception.html" class="btn-outline">Open Reception</a>
      </div>
    </section>

    <!-- Quick features / shortcuts -->
    <section class="shortcuts">
      <h3>Quick Access</h3>
      <div class="cards">
        <div class="card">
          <h4>New Patient</h4>
          <p>Register a new patient and print the registration slip.</p>
          <a href="register_patient.html" class="link">Open</a>
        </div>

        <div class="card">
          <h4>Add Test Result</h4>
          <p>Technician adds test results. Controlled access via Login.</p>
          <a href="add_test_result.html" class="link">Open</a>
        </div>

        <div class="card">
          <h4>View Reports</h4>
          <p>Search and view finalized reports, export to PDF/CSV.</p>
          <a href="view_reports.html" class="link">Open</a>
        </div>
      </div>
    </section>

    <!-- Compliance / notes -->
    <section class="notes">
      <h3>Notes for Deployment</h3>
      <ul>
        <li>This repository/demo uses <strong>localStorage</strong> for data (suitable for demo & GitHub Pages).</li>
        <li>For production, replace local storage with secured server-side storage (TLS, authentication, role-based access).</li>
        <li>Follow Pakistan medical/ISO regulations when storing PHI — do not store sensitive patient data unencrypted in public repos.</li>
      </ul>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <p>&copy; <span id="year"></span> Prime Medical Lab — Demo. All rights reserved.</p>
      <small>Designed for local demo. Convert to server API for real deployment.</small>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="storage.js"></script> <!-- your localStorage helper (I'll provide next if you want) -->
  <script src="script.js"></script>  <!-- general site JS (auth redirects, common helpers) -->

  <script>
    // small inline helpers used immediately
    document.getElementById('year').textContent = new Date().getFullYear();

    // example: if a user is already logged, optionally redirect to his dashboard
    // NOTE: actual auth check should live in script.js; this is just a safe quick-check example
    try {
      const user = localStorage.getItem('lab_current_user');
      if (user) {
        // parse to check role and redirect accordingly (non-forced)
        const u = JSON.parse(user);
        if (u && u.role === 'admin') {
          // don't redirect automatically in demo — uncomment to enable:
          // window.location.href = 'admin-dashboard.html';
        }
      }
    } catch (e) {
      console.warn('Auth check failed', e);
    }
  </script>
</body>
</html>
